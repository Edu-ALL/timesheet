import{g as Le,h as Oe,b as Ve}from"./VTextField-1ys-liIu.js";import{k as ae,a1 as nl,a2 as we,a3 as ul,a4 as Ee,T as Ke,a5 as He,l as de,_ as Ue,a6 as ol,a7 as il,X as fe,y as me,b as n,a8 as ke,a9 as Re,aa as sl,ab as cl,R as rl,ac as dl,ad as vl,ae as fl,af as ml,ag as hl,$ as Ae,ah as gl,ai as yl,aj as pl,Z as kl,ak as Vl,al as bl,m as re,am as Cl,an as Sl,v as A,N as Me,M as wl,ao as Il,V as ne,ap as ce,aq as Pl,F as Z,A as J,ar as ze,as as te,at as xl,au as $,av as xe,r as W,aw as Ne,ax as Ie,ay as Fl,az as Fe,aA as Te,Q as Al,aB as Tl,Y as Dl,aC as _l,aD as ye,C as Rl,aE as $e,a0 as be,aF as je,f as Ge,aG as Ce,u as pe,aH as Ml,aI as Bl,aJ as Ll}from"./main-BamGvAjg.js";import{b as Ol,V as Be,f as qe}from"./forwardRefs-DUMsmNF6.js";import{m as El,u as We,V as Xe,a as Qe,b as Se}from"./VList-DyE5X8Dw.js";import{m as Ye}from"./VImg-C3PmJxkR.js";import{V as Kl}from"./dialog-transition-C_q3zPbm.js";import{g as Hl}from"./VOverlay-BSOkjb50.js";import{V as Je}from"./VCheckboxBtn-CJx0AXnU.js";const Ze=Symbol.for("vuetify:v-chip-group"),Ul=ae({column:Boolean,filter:Boolean,valueComparator:{type:Function,default:nl},...we(),...ul({selectedClass:"v-chip--selected"}),...Ee(),...Ke(),...He({variant:"tonal"})},"VChipGroup");de()({name:"VChipGroup",props:Ul(),emits:{"update:modelValue":e=>!0},setup(e,r){let{slots:l}=r;const{themeClasses:f}=Ue(e),{isSelected:t,select:v,next:k,prev:c,selected:u}=ol(e,Ze);return il({VChip:{color:fe(e,"color"),disabled:fe(e,"disabled"),filter:fe(e,"filter"),variant:fe(e,"variant")}}),me(()=>n(e.tag,{class:["v-chip-group",{"v-chip-group--column":e.column},f.value,e.class],style:e.style},{default:()=>{var g;return[(g=l.default)==null?void 0:g.call(l,{isSelected:t,select:v,next:k,prev:c,selected:u.value})]}})),{}}});const zl=ae({activeClass:String,appendAvatar:String,appendIcon:ke,closable:Boolean,closeIcon:{type:ke,default:"$delete"},closeLabel:{type:String,default:"$vuetify.close"},draggable:Boolean,filter:Boolean,filterIcon:{type:String,default:"$complete"},label:Boolean,link:{type:Boolean,default:void 0},pill:Boolean,prependAvatar:String,prependIcon:ke,ripple:{type:[Boolean,Object],default:!0},text:String,modelValue:{type:Boolean,default:!0},onClick:Re(),onClickOnce:Re(),...sl(),...we(),...cl(),...rl(),...dl(),...vl(),...fl(),...ml(),...Ee({tag:"span"}),...Ke(),...He({variant:"tonal"})},"VChip"),el=de()({name:"VChip",directives:{Ripple:hl},props:zl(),emits:{"click:close":e=>!0,"update:modelValue":e=>!0,"group:selected":e=>!0,click:e=>!0},setup(e,r){let{attrs:l,emit:f,slots:t}=r;const{t:v}=Ae(),{borderClasses:k}=gl(e),{colorClasses:c,colorStyles:u,variantClasses:g}=yl(e),{densityClasses:F}=pl(e),{elevationClasses:y}=kl(e),{roundedClasses:o}=Vl(e),{sizeClasses:b}=bl(e),{themeClasses:P}=Ue(e),x=re(e,"modelValue"),s=Cl(e,Ze,!1),C=Sl(e,l),M=A(()=>e.link!==!1&&C.isLink.value),O=A(()=>!e.disabled&&e.link!==!1&&(!!s||e.link||C.isClickable.value)),I=A(()=>({"aria-label":v(e.closeLabel),onClick(p){p.stopPropagation(),x.value=!1,f("click:close",p)}}));function V(p){var z;f("click",p),O.value&&((z=C.navigate)==null||z.call(C,p),s==null||s.toggle())}function ue(p){(p.key==="Enter"||p.key===" ")&&(p.preventDefault(),V(p))}return()=>{const p=C.isLink.value?"a":e.tag,z=!!(e.appendIcon||e.appendAvatar),ee=!!(z||t.append),B=!!(t.close||e.closable),le=!!(t.filter||e.filter)&&s,X=!!(e.prependIcon||e.prependAvatar),j=!!(X||t.prepend),Q=!s||s.isSelected.value;return x.value&&Me(n(p,{class:["v-chip",{"v-chip--disabled":e.disabled,"v-chip--label":e.label,"v-chip--link":O.value,"v-chip--filter":le,"v-chip--pill":e.pill},P.value,k.value,Q?c.value:void 0,F.value,y.value,o.value,b.value,g.value,s==null?void 0:s.selectedClass.value,e.class],style:[Q?u.value:void 0,e.style],disabled:e.disabled||void 0,draggable:e.draggable,href:C.href.value,tabindex:O.value?0:void 0,onClick:V,onKeydown:O.value&&!M.value&&ue},{default:()=>{var G;return[Il(O.value,"v-chip"),le&&n(Ol,{key:"filter"},{default:()=>[Me(n("div",{class:"v-chip__filter"},[t.filter?n(ce,{key:"filter-defaults",disabled:!e.filterIcon,defaults:{VIcon:{icon:e.filterIcon}}},t.filter):n(ne,{key:"filter-icon",icon:e.filterIcon},null)]),[[Pl,s.isSelected.value]])]}),j&&n("div",{key:"prepend",class:"v-chip__prepend"},[t.prepend?n(ce,{key:"prepend-defaults",disabled:!X,defaults:{VAvatar:{image:e.prependAvatar,start:!0},VIcon:{icon:e.prependIcon,start:!0}}},t.prepend):n(Z,null,[e.prependIcon&&n(ne,{key:"prepend-icon",icon:e.prependIcon,start:!0},null),e.prependAvatar&&n(Be,{key:"prepend-avatar",image:e.prependAvatar,start:!0},null)])]),n("div",{class:"v-chip__content"},[((G=t.default)==null?void 0:G.call(t,{isSelected:s==null?void 0:s.isSelected.value,selectedClass:s==null?void 0:s.selectedClass.value,select:s==null?void 0:s.select,toggle:s==null?void 0:s.toggle,value:s==null?void 0:s.value.value,disabled:e.disabled}))??e.text]),ee&&n("div",{key:"append",class:"v-chip__append"},[t.append?n(ce,{key:"append-defaults",disabled:!z,defaults:{VAvatar:{end:!0,image:e.appendAvatar},VIcon:{end:!0,icon:e.appendIcon}}},t.append):n(Z,null,[e.appendIcon&&n(ne,{key:"append-icon",end:!0,icon:e.appendIcon},null),e.appendAvatar&&n(Be,{key:"append-avatar",end:!0,image:e.appendAvatar},null)])]),B&&n("button",J({key:"close",class:"v-chip__close"},I.value),[t.close?n(ce,{key:"close-defaults",defaults:{VIcon:{icon:e.closeIcon,size:"x-small"}}},t.close):n(ne,{key:"close-icon",icon:e.closeIcon,size:"x-small"},null)])]}}),[[wl("ripple"),O.value&&e.ripple,null]])}}}),Nl=ae({renderless:Boolean,...we()},"VVirtualScrollItem"),$l=de()({name:"VVirtualScrollItem",inheritAttrs:!1,props:Nl(),emits:{"update:height":e=>!0},setup(e,r){let{attrs:l,emit:f,slots:t}=r;const{resizeRef:v,contentRect:k}=ze(void 0,"border");te(()=>{var c;return(c=k.value)==null?void 0:c.height},c=>{c!=null&&f("update:height",c)}),me(()=>{var c,u;return e.renderless?n(Z,null,[(c=t.default)==null?void 0:c.call(t,{itemRef:v})]):n("div",J({ref:v,class:["v-virtual-scroll__item",e.class],style:e.style},l),[(u=t.default)==null?void 0:u.call(t)])})}}),jl=-1,Gl=1,Pe=100,ql=ae({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function Wl(e,r){const l=xl(),f=$(0);xe(()=>{f.value=parseFloat(e.itemHeight||0)});const t=$(0),v=$(Math.ceil((parseInt(e.height)||l.height.value)/(f.value||16))||1),k=$(0),c=$(0),u=W(),g=W();let F=0;const{resizeRef:y,contentRect:o}=ze();xe(()=>{y.value=u.value});const b=A(()=>{var i;return u.value===document.documentElement?l.height.value:((i=o.value)==null?void 0:i.height)||parseInt(e.height)||0}),P=A(()=>!!(u.value&&g.value&&b.value&&f.value));let x=Array.from({length:r.value.length}),s=Array.from({length:r.value.length});const C=$(0);let M=-1;function O(i){return x[i]||f.value}const I=Fl(()=>{const i=performance.now();s[0]=0;const m=r.value.length;for(let E=1;E<=m-1;E++)s[E]=(s[E-1]||0)+O(E-1);C.value=Math.max(C.value,performance.now()-i)},C),V=te(P,i=>{i&&(V(),F=g.value.offsetTop,I.immediate(),G(),~M&&Fe(()=>{Te&&window.requestAnimationFrame(()=>{se(M),M=-1})}))});te(b,(i,m)=>{m&&G()}),Ne(()=>{I.clear()});function ue(i,m){const E=x[i],H=f.value;f.value=H?Math.min(f.value,m):m,(E!==m||H!==f.value)&&(x[i]=m,I())}function p(i){return i=Ie(i,0,r.value.length-1),s[i]||0}function z(i){return Xl(s,i)}let ee=0,B=0,le=0;function X(){if(!u.value||!g.value)return;const i=u.value.scrollTop,m=performance.now();m-le>500?(B=Math.sign(i-ee),F=g.value.offsetTop):B=i-ee,ee=i,le=m,G()}function j(){!u.value||!g.value||(B=0,le=0,G())}let Q=-1;function G(){cancelAnimationFrame(Q),Q=requestAnimationFrame(ve)}function ve(){if(!u.value||!b.value)return;const i=ee-F,m=Math.sign(B),E=Math.max(0,i-Pe),H=Ie(z(E),0,r.value.length),S=i+b.value+Pe,T=Ie(z(S)+1,H+1,r.value.length);if((m!==jl||H<t.value)&&(m!==Gl||T>v.value)){const D=p(t.value)-p(H),K=p(T)-p(v.value);Math.max(D,K)>Pe?(t.value=H,v.value=T):(H<=0&&(t.value=H),T>=r.value.length&&(v.value=T))}k.value=p(t.value),c.value=p(r.value.length)-p(v.value)}function se(i){const m=p(i);!u.value||i&&!m?M=i:u.value.scrollTop=m}const d=A(()=>r.value.slice(t.value,v.value).map((i,m)=>({raw:i,index:m+t.value})));return te(r,()=>{x=Array.from({length:r.value.length}),s=Array.from({length:r.value.length}),I.immediate(),G()},{deep:!0}),{containerRef:u,markerRef:g,computedItems:d,paddingTop:k,paddingBottom:c,scrollToIndex:se,handleScroll:X,handleScrollend:j,handleItemResize:ue}}function Xl(e,r){let l=e.length-1,f=0,t=0,v=null,k=-1;if(e[l]<r)return l;for(;f<=l;)if(t=f+l>>1,v=e[t],v>r)l=t-1;else if(v<r)k=t,f=t+1;else return v===r?t:f;return k}const Ql=ae({items:{type:Array,default:()=>[]},renderless:Boolean,...ql(),...we(),...Al()},"VVirtualScroll"),ll=de()({name:"VVirtualScroll",props:Ql(),setup(e,r){let{slots:l}=r;const f=Tl("VVirtualScroll"),{dimensionStyles:t}=Dl(e),{containerRef:v,markerRef:k,handleScroll:c,handleScrollend:u,handleItemResize:g,scrollToIndex:F,paddingTop:y,paddingBottom:o,computedItems:b}=Wl(e,fe(e,"items"));return _l(()=>e.renderless,()=>{function P(){var C,M;const s=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";v.value===document.documentElement?(document[s]("scroll",c,{passive:!0}),document[s]("scrollend",u)):((C=v.value)==null||C[s]("scroll",c,{passive:!0}),(M=v.value)==null||M[s]("scrollend",u))}Rl(()=>{v.value=Hl(f.vnode.el,!0),P(!0)}),Ne(P)}),me(()=>{const P=b.value.map(x=>n($l,{key:x.index,renderless:e.renderless,"onUpdate:height":s=>g(x.index,s)},{default:s=>{var C;return(C=l.default)==null?void 0:C.call(l,{item:x.raw,index:x.index,...s})}}));return e.renderless?n(Z,null,[n("div",{ref:k,class:"v-virtual-scroll__spacer",style:{paddingTop:ye(y.value)}},null),P,n("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:ye(o.value)}},null)]):n("div",{ref:v,class:["v-virtual-scroll",e.class],onScrollPassive:c,onScrollend:u,style:[t.value,e.style]},[n("div",{ref:k,class:"v-virtual-scroll__container",style:{paddingTop:ye(y.value),paddingBottom:ye(o.value)}},[P])])}),{scrollToIndex:F}}});function tl(e,r){const l=$(!1);let f;function t(c){cancelAnimationFrame(f),l.value=!0,f=requestAnimationFrame(()=>{f=requestAnimationFrame(()=>{l.value=!1})})}async function v(){await new Promise(c=>requestAnimationFrame(c)),await new Promise(c=>requestAnimationFrame(c)),await new Promise(c=>requestAnimationFrame(c)),await new Promise(c=>{if(l.value){const u=te(l,()=>{u(),c()})}else c()})}async function k(c){var F,y;if(c.key==="Tab"&&((F=r.value)==null||F.focus()),!["PageDown","PageUp","Home","End"].includes(c.key))return;const u=(y=e.value)==null?void 0:y.$el;if(!u)return;(c.key==="Home"||c.key==="End")&&u.scrollTo({top:c.key==="Home"?0:u.scrollHeight,behavior:"smooth"}),await v();const g=u.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(c.key==="PageDown"||c.key==="Home"){const o=u.getBoundingClientRect().top;for(const b of g)if(b.getBoundingClientRect().top>=o){b.focus();break}}else{const o=u.getBoundingClientRect().bottom;for(const b of[...g].reverse())if(b.getBoundingClientRect().bottom<=o){b.focus();break}}}return{onListScroll:t,onListKeydown:k}}const al=ae({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:ke,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...El({itemChildren:!1})},"Select"),Yl=ae({...al(),...$e(Le({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Ye({transition:{component:Kl}})},"VSelect");de()({name:"VSelect",props:Yl(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,r){let{slots:l}=r;const{t:f}=Ae(),t=W(),v=W(),k=W(),c=re(e,"menu"),u=A({get:()=>c.value,set:d=>{var i;c.value&&!d&&((i=v.value)!=null&&i.ΨopenChildren)||(c.value=d)}}),{items:g,transformIn:F,transformOut:y}=We(e),o=re(e,"modelValue",[],d=>F(d===null?[null]:be(d)),d=>{const i=y(d);return e.multiple?i:i[0]??null}),b=A(()=>typeof e.counterValue=="function"?e.counterValue(o.value):typeof e.counterValue=="number"?e.counterValue:o.value.length),P=Oe(),x=A(()=>o.value.map(d=>d.value)),s=$(!1),C=A(()=>u.value?e.closeText:e.openText);let M="",O;const I=A(()=>e.hideSelected?g.value.filter(d=>!o.value.some(i=>i===d)):g.value),V=A(()=>e.hideNoData&&!g.value.length||e.readonly||(P==null?void 0:P.isReadonly.value)),ue=A(()=>{var d;return{...e.menuProps,activatorProps:{...((d=e.menuProps)==null?void 0:d.activatorProps)||{},"aria-haspopup":"listbox"}}}),p=W(),{onListScroll:z,onListKeydown:ee}=tl(p,t);function B(d){e.openOnClear&&(u.value=!0)}function le(){V.value||(u.value=!u.value)}function X(d){var S,T;if(!d.key||e.readonly||P!=null&&P.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(d.key)&&d.preventDefault(),["Enter","ArrowDown"," "].includes(d.key)&&(u.value=!0),["Escape","Tab"].includes(d.key)&&(u.value=!1),d.key==="Home"?(S=p.value)==null||S.focus("first"):d.key==="End"&&((T=p.value)==null||T.focus("last"));const i=1e3;function m(D){const K=D.key.length===1,_=!D.ctrlKey&&!D.metaKey&&!D.altKey;return K&&_}if(e.multiple||!m(d))return;const E=performance.now();E-O>i&&(M=""),M+=d.key.toLowerCase(),O=E;const H=g.value.find(D=>D.title.toLowerCase().startsWith(M));H!==void 0&&(o.value=[H])}function j(d){if(e.multiple){const i=o.value.findIndex(m=>e.valueComparator(m.value,d.value));if(i===-1)o.value=[...o.value,d];else{const m=[...o.value];m.splice(i,1),o.value=m}}else o.value=[d],u.value=!1}function Q(d){var i;(i=p.value)!=null&&i.$el.contains(d.relatedTarget)||(u.value=!1)}function G(){var d;s.value&&((d=t.value)==null||d.focus())}function ve(d){s.value=!0}function se(d){if(d==null)o.value=[];else if(Ce(t.value,":autofill")||Ce(t.value,":-webkit-autofill")){const i=g.value.find(m=>m.title===d);i&&j(i)}else t.value&&(t.value.value="")}return te(u,()=>{if(!e.hideSelected&&u.value&&o.value.length){const d=I.value.findIndex(i=>o.value.some(m=>e.valueComparator(m.value,i.value)));Te&&window.requestAnimationFrame(()=>{var i;d>=0&&((i=k.value)==null||i.scrollToIndex(d))})}}),me(()=>{const d=!!(e.chips||l.chip),i=!!(!e.hideNoData||I.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),m=o.value.length>0,E=Ve.filterProps(e),H=m||!s.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return n(Ve,J({ref:t},E,{modelValue:o.value.map(S=>S.props.value).join(", "),"onUpdate:modelValue":se,focused:s.value,"onUpdate:focused":S=>s.value=S,validationValue:o.externalValue,counterValue:b.value,dirty:m,class:["v-select",{"v-select--active-menu":u.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":o.value.length,"v-select--selection-slot":!!l.selection},e.class],style:e.style,inputmode:"none",placeholder:H,"onClick:clear":B,"onMousedown:control":le,onBlur:Q,onKeydown:X,"aria-label":f(C.value),title:f(C.value)}),{...l,default:()=>n(Z,null,[n(Xe,J({ref:v,modelValue:u.value,"onUpdate:modelValue":S=>u.value=S,activator:"parent",contentClass:"v-select__content",disabled:V.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:G},ue.value),{default:()=>[i&&n(Qe,{ref:p,selected:x.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:S=>S.preventDefault(),onKeydown:ee,onFocusin:ve,onScrollPassive:z,tabindex:"-1",color:e.itemColor??e.color},{default:()=>{var S,T,D;return[(S=l["prepend-item"])==null?void 0:S.call(l),!I.value.length&&!e.hideNoData&&(((T=l["no-data"])==null?void 0:T.call(l))??n(Se,{title:f(e.noDataText)},null)),n(ll,{ref:k,renderless:!0,items:I.value},{default:K=>{var N;let{item:_,index:a,itemRef:h}=K;const R=J(_.props,{ref:h,key:a,onClick:()=>j(_)});return((N=l.item)==null?void 0:N.call(l,{item:_,index:a,props:R}))??n(Se,J(R,{role:"option"}),{prepend:w=>{let{isSelected:U}=w;return n(Z,null,[e.multiple&&!e.hideSelected?n(Je,{key:_.value,modelValue:U,ripple:!1,tabindex:"-1"},null):void 0,_.props.prependIcon&&n(ne,{icon:_.props.prependIcon},null)])}})}}),(D=l["append-item"])==null?void 0:D.call(l)]}})]}),o.value.map((S,T)=>{function D(h){h.stopPropagation(),h.preventDefault(),j(S)}const K={"onClick:close":D,onMousedown(h){h.preventDefault(),h.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},_=d?!!l.chip:!!l.selection,a=_?je(d?l.chip({item:S,index:T,props:K}):l.selection({item:S,index:T})):void 0;if(!(_&&!a))return n("div",{key:S.value,class:"v-select__selection"},[d?l.chip?n(ce,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:S.title}}},{default:()=>[a]}):n(el,J({key:"chip",closable:e.closableChips,size:"small",text:S.title,disabled:S.props.disabled},K),null):a??n("span",{class:"v-select__selection-text"},[S.title,e.multiple&&T<o.value.length-1&&n("span",{class:"v-select__selection-comma"},[Ge(",")])])])})]),"append-inner":function(){var K;for(var S=arguments.length,T=new Array(S),D=0;D<S;D++)T[D]=arguments[D];return n(Z,null,[(K=l["append-inner"])==null?void 0:K.call(l,...T),e.menuIcon?n(ne,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),qe({isFocused:s,menu:u,select:j},t)}});const Jl=(e,r,l)=>e==null||r==null?-1:e.toString().toLocaleLowerCase().indexOf(r.toString().toLocaleLowerCase()),Zl=ae({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function et(e,r,l){var c;const f=[],t=(l==null?void 0:l.default)??Jl,v=l!=null&&l.filterKeys?be(l.filterKeys):!1,k=Object.keys((l==null?void 0:l.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return f;e:for(let u=0;u<e.length;u++){const[g,F=g]=be(e[u]),y={},o={};let b=-1;if(r&&!(l!=null&&l.noFilter)){if(typeof g=="object"){const s=v||Object.keys(F);for(const C of s){const M=Ml(F,C,F),O=(c=l==null?void 0:l.customKeyFilter)==null?void 0:c[C];if(b=O?O(M,r,g):t(M,r,g),b!==-1&&b!==!1)O?y[C]=b:o[C]=b;else if((l==null?void 0:l.filterMode)==="every")continue e}}else b=t(g,r,g),b!==-1&&b!==!1&&(o.title=b);const P=Object.keys(o).length,x=Object.keys(y).length;if(!P&&!x||(l==null?void 0:l.filterMode)==="union"&&x!==k&&!P||(l==null?void 0:l.filterMode)==="intersection"&&(x!==k||!P))continue}f.push({index:u,matches:{...o,...y}})}return f}function lt(e,r,l,f){const t=W([]),v=W(new Map),k=A(()=>pe(r));xe(()=>{const u=typeof l=="function"?l():pe(l),g=typeof u!="string"&&typeof u!="number"?"":String(u),F=et(k.value,g,{customKeyFilter:{...e.customKeyFilter,...pe(f==null?void 0:f.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),y=pe(r),o=[],b=new Map;F.forEach(P=>{let{index:x,matches:s}=P;const C=y[x];o.push(C),b.set(C.value,s)}),t.value=o,v.value=b});function c(u){return v.value.get(u.value)}return{filteredItems:t,filteredMatches:v,getMatches:c}}function tt(e,r,l){if(r==null)return e;if(Array.isArray(r))throw new Error("Multiple matches is not implemented");return typeof r=="number"&&~r?n(Z,null,[n("span",{class:"v-autocomplete__unmask"},[e.substr(0,r)]),n("span",{class:"v-autocomplete__mask"},[e.substr(r,l)]),n("span",{class:"v-autocomplete__unmask"},[e.substr(r+l)])]):e}const at=ae({autoSelectFirst:{type:[Boolean,String]},search:String,...Zl({filterKeys:["title"]}),...al(),...$e(Le({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...Ye({transition:!1})},"VAutocomplete"),vt=de()({name:"VAutocomplete",props:at(),emits:{"update:focused":e=>!0,"update:search":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,r){let{slots:l}=r;const{t:f}=Ae(),t=W(),v=$(!1),k=$(!0),c=$(!1),u=W(),g=W(),F=re(e,"menu"),y=A({get:()=>F.value,set:a=>{var h;F.value&&!a&&((h=u.value)!=null&&h.ΨopenChildren)||(F.value=a)}}),o=$(-1),b=A(()=>{var a;return(a=t.value)==null?void 0:a.color}),P=A(()=>y.value?e.closeText:e.openText),{items:x,transformIn:s,transformOut:C}=We(e),{textColorClasses:M,textColorStyles:O}=Bl(b),I=re(e,"search",""),V=re(e,"modelValue",[],a=>s(a===null?[null]:be(a)),a=>{const h=C(a);return e.multiple?h:h[0]??null}),ue=A(()=>typeof e.counterValue=="function"?e.counterValue(V.value):typeof e.counterValue=="number"?e.counterValue:V.value.length),p=Oe(),{filteredItems:z,getMatches:ee}=lt(e,x,()=>k.value?"":I.value),B=A(()=>e.hideSelected?z.value.filter(a=>!V.value.some(h=>h.value===a.value)):z.value),le=A(()=>V.value.map(a=>a.props.value)),X=A(()=>{var h;return(e.autoSelectFirst===!0||e.autoSelectFirst==="exact"&&I.value===((h=B.value[0])==null?void 0:h.title))&&B.value.length>0&&!k.value&&!c.value}),j=A(()=>e.hideNoData&&!x.value.length||e.readonly||(p==null?void 0:p.isReadonly.value)),Q=W(),{onListScroll:G,onListKeydown:ve}=tl(Q,t);function se(a){e.openOnClear&&(y.value=!0),I.value=""}function d(){j.value||(y.value=!0)}function i(a){j.value||(v.value&&(a.preventDefault(),a.stopPropagation()),y.value=!y.value)}function m(a){var N,w,U;if(e.readonly||p!=null&&p.isReadonly.value)return;const h=t.value.selectionStart,R=V.value.length;if((o.value>-1||["Enter","ArrowDown","ArrowUp"].includes(a.key))&&a.preventDefault(),["Enter","ArrowDown"].includes(a.key)&&(y.value=!0),["Escape"].includes(a.key)&&(y.value=!1),X.value&&["Enter","Tab"].includes(a.key)&&_(B.value[0]),a.key==="ArrowDown"&&X.value&&((N=Q.value)==null||N.focus("next")),!!e.multiple){if(["Backspace","Delete"].includes(a.key)){if(o.value<0){a.key==="Backspace"&&!I.value&&(o.value=R-1);return}const L=o.value,Y=V.value[o.value];Y&&!Y.props.disabled&&_(Y),o.value=L>=R-1?R-2:L}if(a.key==="ArrowLeft"){if(o.value<0&&h>0)return;const L=o.value>-1?o.value-1:R-1;V.value[L]?o.value=L:(o.value=-1,t.value.setSelectionRange((w=I.value)==null?void 0:w.length,(U=I.value)==null?void 0:U.length))}if(a.key==="ArrowRight"){if(o.value<0)return;const L=o.value+1;V.value[L]?o.value=L:(o.value=-1,t.value.setSelectionRange(0,0))}}}function E(a){if(Ce(t.value,":autofill")||Ce(t.value,":-webkit-autofill")){const h=x.value.find(R=>R.title===a.target.value);h&&_(h)}}function H(){var a;v.value&&(k.value=!0,(a=t.value)==null||a.focus())}function S(a){v.value=!0,setTimeout(()=>{c.value=!0})}function T(a){c.value=!1}function D(a){(a==null||a===""&&!e.multiple)&&(V.value=[])}const K=$(!1);function _(a){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!a.props.disabled)if(e.multiple){const R=V.value.findIndex(N=>e.valueComparator(N.value,a.value));if(R===-1)V.value=[...V.value,a];else{const N=[...V.value];N.splice(R,1),V.value=N}}else V.value=h?[a]:[],K.value=!0,I.value=h?a.title:"",y.value=!1,k.value=!0,Fe(()=>K.value=!1)}return te(v,(a,h)=>{var R;a!==h&&(a?(K.value=!0,I.value=e.multiple?"":String(((R=V.value.at(-1))==null?void 0:R.props.title)??""),k.value=!0,Fe(()=>K.value=!1)):(!e.multiple&&I.value==null?V.value=[]:X.value&&!c.value&&!V.value.some(N=>{let{value:w}=N;return w===B.value[0].value})&&_(B.value[0]),y.value=!1,I.value="",o.value=-1))}),te(I,a=>{!v.value||K.value||(a&&(y.value=!0),k.value=!a)}),te(y,()=>{if(!e.hideSelected&&y.value&&V.value.length){const a=B.value.findIndex(h=>V.value.some(R=>h.value===R.value));Te&&window.requestAnimationFrame(()=>{var h;a>=0&&((h=g.value)==null||h.scrollToIndex(a))})}}),me(()=>{const a=!!(e.chips||l.chip),h=!!(!e.hideNoData||B.value.length||l["prepend-item"]||l["append-item"]||l["no-data"]),R=V.value.length>0,N=Ve.filterProps(e);return n(Ve,J({ref:t},N,{modelValue:I.value,"onUpdate:modelValue":[w=>I.value=w,D],focused:v.value,"onUpdate:focused":w=>v.value=w,validationValue:V.externalValue,counterValue:ue.value,dirty:R,onChange:E,class:["v-autocomplete",`v-autocomplete--${e.multiple?"multiple":"single"}`,{"v-autocomplete--active-menu":y.value,"v-autocomplete--chips":!!e.chips,"v-autocomplete--selection-slot":!!l.selection,"v-autocomplete--selecting-index":o.value>-1},e.class],style:e.style,readonly:e.readonly,placeholder:R?void 0:e.placeholder,"onClick:clear":se,"onMousedown:control":d,onKeydown:m}),{...l,default:()=>n(Z,null,[n(Xe,J({ref:u,modelValue:y.value,"onUpdate:modelValue":w=>y.value=w,activator:"parent",contentClass:"v-autocomplete__content",disabled:j.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:H},e.menuProps),{default:()=>[h&&n(Qe,{ref:Q,selected:le.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:w=>w.preventDefault(),onKeydown:ve,onFocusin:S,onFocusout:T,onScrollPassive:G,tabindex:"-1",color:e.itemColor??e.color},{default:()=>{var w,U,L;return[(w=l["prepend-item"])==null?void 0:w.call(l),!B.value.length&&!e.hideNoData&&(((U=l["no-data"])==null?void 0:U.call(l))??n(Se,{title:f(e.noDataText)},null)),n(ll,{ref:g,renderless:!0,items:B.value},{default:Y=>{var _e;let{item:q,index:oe,itemRef:ie}=Y;const De=J(q.props,{ref:ie,key:oe,active:X.value&&oe===0?!0:void 0,onClick:()=>_(q)});return((_e=l.item)==null?void 0:_e.call(l,{item:q,index:oe,props:De}))??n(Se,De,{prepend:he=>{let{isSelected:ge}=he;return n(Z,null,[e.multiple&&!e.hideSelected?n(Je,{key:q.value,modelValue:ge,ripple:!1,tabindex:"-1"},null):void 0,q.props.prependIcon&&n(ne,{icon:q.props.prependIcon},null)])},title:()=>{var he,ge;return k.value?q.title:tt(q.title,(he=ee(q))==null?void 0:he.title,((ge=I.value)==null?void 0:ge.length)??0)}})}}),(L=l["append-item"])==null?void 0:L.call(l)]}})]}),V.value.map((w,U)=>{function L(ie){ie.stopPropagation(),ie.preventDefault(),_(w,!1)}const Y={"onClick:close":L,onMousedown(ie){ie.preventDefault(),ie.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},q=a?!!l.chip:!!l.selection,oe=q?je(a?l.chip({item:w,index:U,props:Y}):l.selection({item:w,index:U})):void 0;if(!(q&&!oe))return n("div",{key:w.value,class:["v-autocomplete__selection",U===o.value&&["v-autocomplete__selection--selected",M.value]],style:U===o.value?O.value:{}},[a?l.chip?n(ce,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:w.title}}},{default:()=>[oe]}):n(el,J({key:"chip",closable:e.closableChips,size:"small",text:w.title,disabled:w.props.disabled},Y),null):oe??n("span",{class:"v-autocomplete__selection-text"},[w.title,e.multiple&&U<V.value.length-1&&n("span",{class:"v-autocomplete__selection-comma"},[Ge(",")])])])})]),"append-inner":function(){var Y;for(var w=arguments.length,U=new Array(w),L=0;L<w;L++)U[L]=arguments[L];return n(Z,null,[(Y=l["append-inner"])==null?void 0:Y.call(l,...U),e.menuIcon?n(ne,{class:"v-autocomplete__menu-icon",icon:e.menuIcon,onMousedown:i,onClick:Ll,"aria-label":f(P.value),title:f(P.value)},null):void 0])}})}),qe({isFocused:v,isPristine:k,menu:y,search:I,filteredItems:z,select:_},t)}});export{vt as V,el as a};
