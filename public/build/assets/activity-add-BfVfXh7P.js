import{a as S,e as T,V as A,b as d}from"./VTextField-1ys-liIu.js";import{V as k}from"./VSpacer-5-XwI9bQ.js";import{aR as q,i as N,o as U,e as $,w as s,b as e,a as x,f as r,t as M,I as V,V as _,r as B,K as E,u as l,D as z,s as D}from"./main-BamGvAjg.js";import{r as u}from"./rules-B5G8qOzK.js";import{V as F}from"./VForm-C_0S8g3K.js";import{V as I,a as i}from"./VRow-CS9fcrjS.js";import{V as L}from"./VTextarea-CVFe_fYC.js";import{V as R}from"./VDivider-BVdfafVF.js";const j=x("h2",{class:"my-3 mb-4"},"Confirmation",-1),H={class:"font-weight-light"},K=x("br",null,null,-1),Z=q({__name:"DeleteHandler",props:["data","title"],emits:["close","delete"],setup(v,{emit:y}){const C=v,m=y,n=()=>{m("close")},c=()=>{m("delete")};return(o,w)=>{const p=N("DialogCloseBtn");return U(),$(A,null,{default:s(()=>[e(p,{variant:"text",size:"default",onClick:n}),e(S,{class:"text-center mt-4"},{default:s(()=>[j,x("h3",H,[r(" Are you sure, "),K,r(" you want to delete this "+M(C.title)+" ? ",1)])]),_:1}),e(T,{class:"mb-3"},{default:s(()=>[e(k),e(V,{color:"error",onClick:n},{default:s(()=>[e(_,{icon:"ri-close-line",class:"me-2"}),r(" Cancel ")]),_:1}),e(V,{color:"success",onClick:c},{default:s(()=>[e(_,{icon:"ri-check-line",class:"me-2"}),r(" Yes, Delete ")]),_:1}),e(k)]),_:1})]),_:1})}}}),ee={__name:"activity-add",props:{id:String},emits:["close"],setup(v,{emit:y}){const C=v,m=y,n=()=>{m("close")},c=B(),o=B({activity:null,description:null,date:null,start_time:null,end_time:null,start_date:null,end_date:null,meeting_link:null}),w=async()=>{var a,f;const{valid:p}=await c.value.validate();if(p)try{const t=await z.post("api/v1/timesheet/"+C.id+"/activity",o.value);console.log(t),t&&(D("success",t.message,"bottom-end"),n())}catch(t){if((f=(a=t==null?void 0:t.response)==null?void 0:a.data)!=null&&f.errors){const g=t.response.data.errors;let h="Validation errors:";for(const b in g)g.hasOwnProperty(b)&&(h+=`
${b}: ${g[b].join(", ")}`);D("error",h,"bottom-end")}else D("error",t.response.data.message,"bottom-end")}};return(p,a)=>{const f=N("DialogCloseBtn");return U(),$(A,{title:"New Activity"},{default:s(()=>[e(f,{variant:"text",size:"default",onClick:n}),e(S,null,{default:s(()=>[e(F,{onSubmit:E(w,["prevent"]),ref_key:"formData",ref:c,"validate-on":"input"},{default:s(()=>[e(I,null,{default:s(()=>[e(i,{cols:"12"},{default:s(()=>[e(d,{modelValue:l(o).activity,"onUpdate:modelValue":a[0]||(a[0]=t=>l(o).activity=t),label:"Activity Name",placeholder:"Activity",rules:l(u).required},null,8,["modelValue","rules"])]),_:1}),e(i,{cols:"12"},{default:s(()=>[e(L,{modelValue:l(o).description,"onUpdate:modelValue":a[1]||(a[1]=t=>l(o).description=t),label:"Description",placeholder:"Description",rules:l(u).required},null,8,["modelValue","rules"])]),_:1}),e(i,{md:"6",cols:"12"},{default:s(()=>[e(d,{type:"date",modelValue:l(o).date,"onUpdate:modelValue":a[2]||(a[2]=t=>l(o).date=t),label:"Date",placeholder:"Date",rules:l(u).required},null,8,["modelValue","rules"])]),_:1}),e(i,{md:"3",cols:"6"},{default:s(()=>[e(d,{type:"time",modelValue:l(o).start_time,"onUpdate:modelValue":a[3]||(a[3]=t=>l(o).start_time=t),label:"Start Time",placeholder:"Start Time",rules:l(u).required,onChange:a[4]||(a[4]=t=>l(o).start_date=l(o).date+" "+l(o).start_time+":00")},null,8,["modelValue","rules"])]),_:1}),e(i,{md:"3",cols:"6"},{default:s(()=>[e(d,{type:"time",modelValue:l(o).end_time,"onUpdate:modelValue":a[5]||(a[5]=t=>l(o).end_time=t),label:"End Time",placeholder:"End Time",onChange:a[6]||(a[6]=t=>l(o).end_date=l(o).date+" "+l(o).end_time+":00")},null,8,["modelValue"])]),_:1}),e(i,{md:"12",cols:"12"},{default:s(()=>[e(d,{type:"text",modelValue:l(o).meeting_link,"onUpdate:modelValue":a[7]||(a[7]=t=>l(o).meeting_link=t),label:"Meeting Link",placeholder:"Meeting Link",rules:l(u).url},null,8,["modelValue","rules"])]),_:1})]),_:1}),e(R,{class:"my-3"}),e(T,null,{default:s(()=>[e(V,{type:"button",color:"error",onClick:n},{default:s(()=>[e(_,{icon:"ri-close-line",class:"me-3"}),r(" Close ")]),_:1}),e(k),e(V,{type:"submit",color:"success"},{default:s(()=>[r(" Save "),e(_,{icon:"ri-save-line",class:"ms-3"})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})}}};export{Z as _,ee as a};
