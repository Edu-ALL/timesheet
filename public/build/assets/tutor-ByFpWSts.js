import{k as se,l as le,m as H,q as oe,r as b,v as q,x as ne,y as re,z as ce,b as t,A as $,F as C,V as I,L as ie,B as ue,C as de,e as P,w as m,D as M,s as G,o,a as e,u as g,E as J,c as h,G as D,H as R,t as V,f as T,I as me}from"./main-BamGvAjg.js";import{a as he}from"./avatar-1-BpD18F9D.js";import{a as fe,b as ve,c as pe,d as _e}from"./avatar-5-DCc5XOFQ.js";import{m as ge,u as ye,c as K,V as O,b as Ve,d as we,a as E}from"./VTextField-1ys-liIu.js";import{V as ke}from"./VSkeletonLoader-HKZIy6ej.js";import{V as Q}from"./VTable-SAWoljyi.js";import{V as xe}from"./VPagination-Csy0LPkf.js";import{a as be,V as Ce}from"./forwardRefs-DUMsmNF6.js";import{m as Se,V as W}from"./VSelectionControl-Cb_evK1R.js";import{V as Pe}from"./VDialog-CfWozT0b.js";import"./VImg-C3PmJxkR.js";import"./VOverlay-BSOkjb50.js";import"./lazy-D8v9bkkP.js";import"./dialog-transition-C_q3zPbm.js";const Te=se({indeterminate:Boolean,inset:Boolean,flat:Boolean,loading:{type:[Boolean,String],default:!1},...ge(),...Se()},"VSwitch"),Ie=le()({name:"VSwitch",inheritAttrs:!1,props:Te(),emits:{"update:focused":a=>!0,"update:modelValue":a=>!0,"update:indeterminate":a=>!0},setup(a,N){let{attrs:f,slots:y}=N;const d=H(a,"indeterminate"),v=H(a,"modelValue"),{loaderClasses:p}=oe(a),{isFocused:w,focus:A,blur:F}=ye(a),B=b(),_=q(()=>typeof a.loading=="string"&&a.loading!==""?a.loading:a.color),n=ne(),i=q(()=>a.id||`switch-${n}`);function u(){d.value&&(d.value=!1)}function s(l){var r,c;l.stopPropagation(),l.preventDefault(),(c=(r=B.value)==null?void 0:r.input)==null||c.click()}return re(()=>{const[l,r]=ce(f),c=K.filterProps(a),U=W.filterProps(a);return t(K,$({class:["v-switch",{"v-switch--inset":a.inset},{"v-switch--indeterminate":d.value},p.value,a.class]},l,c,{modelValue:v.value,"onUpdate:modelValue":k=>v.value=k,id:i.value,focused:w.value,style:a.style}),{...y,default:k=>{let{id:j,messagesId:X,isDisabled:Y,isReadonly:Z,isValid:ee}=k;return t(W,$({ref:B},U,{modelValue:v.value,"onUpdate:modelValue":[S=>v.value=S,u],id:j.value,"aria-describedby":X.value,type:"checkbox","aria-checked":d.value?"mixed":void 0,disabled:Y.value,readonly:Z.value,onFocus:A,onBlur:F},r),{...y,default:S=>{let{backgroundColorClasses:L,backgroundColorStyles:x}=S;return t("div",{class:["v-switch__track",...L.value],style:x.value,onClick:s},null)},input:S=>{let{inputNode:L,icon:x,backgroundColorClasses:te,backgroundColorStyles:ae}=S;return t(C,null,[L,t("div",{class:["v-switch__thumb",{"v-switch__thumb--filled":x||a.loading},a.inset?void 0:te.value],style:a.inset?void 0:ae.value},[t(be,null,{default:()=>[a.loading?t(ie,{name:"v-switch",active:!0,color:ee.value===!1?void 0:_.value},{default:z=>y.loader?y.loader(z):t(ue,{active:z.isActive,color:z.color,indeterminate:!0,size:"16",width:"2"},null)}):x&&t(I,{key:x,icon:x,size:"x-small"},null)]})])])}})}})}),{}}}),Be={class:"d-flex justify-between align-center"},De=e("div",{class:"w-100"},[e("h4",null,"Tutor/Mentor")],-1),Ne={class:"w-25"},Ae=e("thead",null,[e("tr",null,[e("th",{class:"text-uppercase",width:"1%"}," No "),e("th",{class:"text-uppercase text-center"},"Mentor/Tutor Name"),e("th",{class:"text-uppercase text-center"},"Email"),e("th",{class:"text-uppercase text-center"},"Role"),e("th",{nowrap:""},"Inhouse Mentor"),e("th",{class:"text-uppercase text-center"},"Phone Number"),e("th",{class:"text-uppercase text-center"},"Detail")])],-1),Fe={nowrap:""},Ue={class:"text-start",nowrap:""},je={class:"text-start",nowrap:""},Le={key:0},ze={class:"d-flex justify-center"},Me={class:"text-start",nowrap:""},Re={class:"text-center",nowrap:""},Ee={class:"d-flex justify-between align-center mb-3"},$e=e("h4",{class:"w-100"},"Detail",-1),He=e("thead",null,[e("tr",null,[e("th",{class:"text-left"},"Subject Tutoring"),e("th",{class:"text-end"},"Fee/Hours")])],-1),qe={class:"text-end"},Ge={key:0},Je=e("tr",null,[e("td",{colspan:"6",class:"text-center"}," Sorry, no data found. ")],-1),Ke=[Je],Oe={class:"d-flex justify-center mt-5"},it={__name:"tutor",setup(a){const N=[he,fe,ve,pe,_e],f=b(1),y=b(),d=b(),v=b([]),p=b(!1),w=async()=>{var u,s;const _="?page="+f.value,n=d.value?"&keyword="+d.value:"",i="&paginate=true";try{p.value=!0;const l=await M.get("api/v1/user/mentor-tutors"+_+n+i);l&&(f.value=l.current_page,y.value=l.last_page,v.value=l),p.value=!1}catch(l){G("error",(s=(u=l.response)==null?void 0:u.data)==null?void 0:s.message,"bottom-end"),console.error(l),p.value=!1}},A=async()=>{f.value=1,await w()},F=async _=>{try{const n=await M.post("api/v1/auth/email/checking",{email:_})}catch(n){console.error(n)}},B=async(_,n,i)=>{await F(i);try{const u=await M.put("api/v1/user/mentor-tutors/"+_,{inhouse:n?1:0});u&&(G("success",u.message,"bottom-end"),await w())}catch(u){console.error(u)}};return de(()=>{w()}),(_,n)=>(o(),P(O,null,{default:m(()=>[t(we,null,{default:m(()=>[e("div",Be,[De,e("div",Ne,[t(Ve,{modelValue:g(d),"onUpdate:modelValue":n[0]||(n[0]=i=>J(d)?d.value=i:null),loading:g(p),disabled:g(p),"append-inner-icon":"ri-search-line",density:"compact",label:"Search",variant:"solo","hide-details":"","single-line":"",onChange:A},null,8,["modelValue","loading","disabled"])])])]),_:1}),t(E,null,{default:m(()=>[g(p)?(o(),P(ke,{key:0,class:"mx-auto border",type:"table-thead, table-row@10"})):(o(),P(Q,{key:1},{default:m(()=>{var i,u;return[Ae,e("tbody",null,[(o(!0),h(C,null,D(g(v).data,(s,l)=>(o(),h("tr",{key:l},[e("td",null,V(parseInt(l)+1),1),e("td",Fe,[t(Ce,{size:"25",class:"avatar-center me-3",image:N[l%5]},null,8,["image"]),T(" "+V(s.first_name+" "+s.last_name),1)]),e("td",Ue,[t(I,{icon:"ri-mail-line",class:"me-3"}),T(" "+V(s.email),1)]),e("td",je,[t(I,{icon:"ri-user-line",class:"me-3"}),(o(!0),h(C,null,D(s.roles,(r,c)=>(o(),h("span",{key:c},[T(V(r.role)+" ",1),c<s.roles.length-1?(o(),h("span",Le,", ")):R("",!0)]))),128))]),e("td",ze,[t(Ie,{modelValue:s.inhouse,"onUpdate:modelValue":[r=>s.inhouse=r,r=>B(s.uuid,s.inhouse,s.email)]},null,8,["modelValue","onUpdate:modelValue"])]),e("td",Me,[t(I,{icon:"ri-smartphone-line",class:"me-3"}),T(" "+V(s.phone),1)]),e("td",Re,[t(Pe,{"max-width":"600"},{activator:m(({props:r})=>[t(I,$({icon:"ri-folder-info-line",class:"cursor-pointer",ref_for:!0},r),null,16)]),default:m(({isActive:r})=>[t(O,null,{default:m(()=>[t(E,{class:"py-5"},{default:m(()=>[e("div",Ee,[$e,t(me,{size:"x-small",color:"secondary",icon:"ri-close-line",onClick:c=>r.value=!1},null,8,["onClick"])]),s.roles.findIndex(c=>c.role==="Tutor")>=0?(o(),P(Q,{key:0,density:"compact"},{default:m(()=>[He,e("tbody",null,[(o(!0),h(C,null,D(s.roles,(c,U)=>(o(),h(C,{key:U},[c.role=="Tutor"?(o(!0),h(C,{key:0},D(c.subjects,(k,j)=>(o(),h("tr",{key:j},[e("td",null,V(k.name),1),e("td",qe,V(k.fee_hours.toLocaleString("id-ID",{style:"currency",currency:"IDR"})),1)]))),128)):R("",!0)],64))),128))])]),_:2},1024)):(o(),P(E,{key:1,class:"text-center"},{default:m(()=>[T(" There is no tutoring subject ")]),_:1}))]),_:2},1024)]),_:2},1024)]),_:2},1024)])]))),128))]),((u=(i=g(v))==null?void 0:i.data)==null?void 0:u.length)==0?(o(),h("tfoot",Ge,Ke)):R("",!0)]}),_:1})),e("div",Oe,[t(xe,{modelValue:g(f),"onUpdate:modelValue":[n[1]||(n[1]=i=>J(f)?f.value=i:null),w],length:g(y),"total-visible":5,color:"primary",density:"compact","show-first-last-page":!1},null,8,["modelValue","length"])])]),_:1})]),_:1}))}};export{it as default};
