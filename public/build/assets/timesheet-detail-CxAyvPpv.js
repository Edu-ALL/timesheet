import{r as g,C as Z,i as ee,o as M,e as I,w as a,b as e,u as s,K as _e,I as L,V as y,f as v,D as P,s as D,a as l,t as _,A as W,c as j,F as te,G as pe,H as be,O as F,P as ce,S as ue,h as me}from"./main-BamGvAjg.js";import{r as Y}from"./rules-B5G8qOzK.js";import{a as S,b as B,e as fe,V as E,d as q,f as H}from"./VTextField-1ys-liIu.js";import{V as ke}from"./VSkeletonLoader-HKZIy6ej.js";import{V as ve}from"./VForm-C_0S8g3K.js";import{V as le,a as T}from"./VRow-CS9fcrjS.js";import{V as K,a as we}from"./VAutocomplete-CV-sKyN8.js";import{V as he}from"./VTextarea-CVFe_fYC.js";import{V as ge}from"./VDivider-BVdfafVF.js";import{V as ye}from"./VSpacer-5-XwI9bQ.js";import{_ as Ve,a as xe}from"./activity-add-BfVfXh7P.js";import{V as De,a as Ce,b as J,c as $e}from"./VList-DyE5X8Dw.js";import{V as X}from"./VTable-SAWoljyi.js";import{V as O}from"./VDialog-CfWozT0b.js";import{V as Q}from"./VTooltip-D20pEGI9.js";import{V as Te}from"./VCheckbox-D0p3f3Zp.js";import"./forwardRefs-DUMsmNF6.js";import"./VImg-C3PmJxkR.js";/* empty css              */import"./dialog-transition-C_q3zPbm.js";import"./VOverlay-BSOkjb50.js";import"./lazy-D8v9bkkP.js";import"./VCheckboxBtn-CJx0AXnU.js";import"./VSelectionControl-Cb_evK1R.js";import"./ssrBoot-DWWf1isl.js";const Me={__name:"user-edit",props:["id","item","package_id"],emits:["close"],setup(U,{emit:h}){var z,se,ae,ie,oe,ne,de;const r=U,o=h;g([(z=r.item)==null?void 0:z.tutormentor_id]);const V=g([]);g([]);const x=g([]),c=g([]),C=g([]),p=g(!1),d=g(!0),f=g(),t=g({mentortutor_email:(se=r.item)==null?void 0:se.tutormentor_email,subject_id:(ae=r.item)==null?void 0:ae.subject_id,inhouse_id:(ie=r.item)==null?void 0:ie.inhouse_id,package_id:r.package_id,duration:(oe=r.item)==null?void 0:oe.duration,notes:(ne=r.item)==null?void 0:ne.notes,pic_id:(de=r.item)==null?void 0:de.pic_id}),i=()=>{o("close")},n=async(k=!1)=>{const w=k?"api/v1/user/mentor-tutors?inhouse=true":"api/v1/user/mentor-tutors";try{const $=await P.get(w);$&&(k?C.value=Object.values($):V.value=$)}catch($){console.error($)}},u=async()=>{try{const k=await P.get("api/v1/package/component/list");k&&(x.value=k)}catch(k){console.error(k)}},b=()=>{const k=t.value.package_id,w=x.value.findIndex(m=>m.id===k);let $=x.value[w];$.detail?(p.value=!0,t.value.duration=$.detail):(p.value=!1,t.value.duration=null)},N=async()=>{try{const k=await P.get("api/v1/user/component/list");k&&(c.value=k)}catch(k){console.error(k)}},A=async()=>{var w,$;const{valid:k}=await f.value.validate();if(k)try{const m=await P.put("api/v1/timesheet/"+r.id+"/update",t.value);m&&(D("success",m.message,"bottom-end"),console.log(m),t.value={mentortutor_email:null,subject_id:null,inhouse_id:null,package_id:null,duration:"",notes:"",pic_id:[]},i())}catch(m){if(console.log(m),($=(w=m==null?void 0:m.response)==null?void 0:w.data)!=null&&$.errors){const R=m.response.data.errors;let re="Validation errors:";for(const G in R)R.hasOwnProperty(G)&&(re+=`
${G}: ${R[G].join(", ")}`);D("error",re,"bottom-end")}}};return Z(()=>{n(!0),u(),N(),setTimeout(()=>{d.value=!1},2e3)}),(k,w)=>{const $=ee("DialogCloseBtn");return M(),I(E,{title:"Edit Detail"},{default:a(()=>[e($,{variant:"text",size:"default",onClick:i}),e(S,null,{default:a(()=>[s(d)?(M(),I(ke,{key:0,type:"heading, list-item-three-line, actions"})):(M(),I(ve,{key:1,onSubmit:_e(A,["prevent"]),ref_key:"formData",ref:f,"validate-on":"input"},{default:a(()=>[e(le,null,{default:a(()=>[e(T,{md:"8"},{default:a(()=>[e(K,{density:"compact",clearable:"",label:"Package",modelValue:s(t).package_id,"onUpdate:modelValue":[w[0]||(w[0]=m=>s(t).package_id=m),b],items:s(x),"item-props":m=>({title:m.package!=null?m.type_of+" - "+m.package:m.type_of}),"item-value":"id",rules:s(Y).required},null,8,["modelValue","items","item-props","rules"])]),_:1}),e(T,{md:"4"},{default:a(()=>[e(B,{type:"number",density:"compact",clearable:"",label:+s(t).duration/60?"Minutes ("+s(t).duration/60+" Hours)":"Minutes",readonly:s(p),modelValue:s(t).duration,"onUpdate:modelValue":w[1]||(w[1]=m=>s(t).duration=m),rules:s(Y).required},null,8,["label","readonly","modelValue","rules"])]),_:1}),e(T,{md:"12"},{default:a(()=>[e(K,{density:"compact",clearable:"",modelValue:s(t).inhouse_id,"onUpdate:modelValue":w[2]||(w[2]=m=>s(t).inhouse_id=m),label:"Inhouse Mentor/Tutor",items:s(C),"item-props":m=>({title:m.first_name+" "+m.last_name}),"item-value":"uuid",rules:s(Y).required},null,8,["modelValue","items","item-props","rules"])]),_:1}),e(T,{md:"12"},{default:a(()=>[e(K,{density:"compact",multiple:"",clearable:"",chips:"",label:"PIC",modelValue:s(t).pic_id,"onUpdate:modelValue":w[3]||(w[3]=m=>s(t).pic_id=m),items:s(c),"item-title":"full_name","item-value":"id",rules:s(Y).required},null,8,["modelValue","items","rules"])]),_:1}),e(T,{md:"12"},{default:a(()=>[e(he,{label:"Notes",modelValue:s(t).notes,"onUpdate:modelValue":w[4]||(w[4]=m=>s(t).notes=m)},null,8,["modelValue"])]),_:1})]),_:1}),e(ge,{class:"my-3"}),e(fe,null,{default:a(()=>[e(L,{color:"error",type:"button",onClick:i},{default:a(()=>[e(y,{icon:"ri-close-line",class:"me-3"}),v(" Close ")]),_:1}),e(ye),e(L,{color:"success",type:"submit"},{default:a(()=>[v(" Save "),e(y,{icon:"ri-save-line",class:"ms-3"})]),_:1})]),_:1})]),_:1},512))]),_:1})]),_:1})}}},Pe={class:"w-100"},Se={class:"mt-3 font-weight-light"},Ue=l("hr",{class:"my-2"},null,-1),Ye={key:0},Ae=l("tr",{class:"bg-secondary"},[l("td",null,"Name"),l("td",null,"School"),l("td",null,"Grade")],-1),Le={key:1},Ne=l("td",{width:"20%"},"Name",-1),je=l("td",{width:"1%"},":",-1),Ee=l("td",null,"School Name",-1),Be=l("td",{width:"1%"},":",-1),Ie=l("td",null,"Grade",-1),ze=l("td",{width:"1%"},":",-1),qe=l("td",null,"Email",-1),Oe=l("td",{width:"1%"},":",-1),Fe={class:"mt-5 font-weight-light"},Re=l("hr",{class:"my-2"},null,-1),Ge=l("td",{width:"20%"},"Program",-1),He=l("td",{width:"1%"},":",-1),Ke=l("td",null,"Package",-1),Je=l("td",{width:"1%"},":",-1),Qe=l("td",null,"Person in Charge",-1),We=l("td",{width:"1%"},":",-1),Xe={class:"ms-4",type:"1"},Ze=l("td",null,"Tutor/Mentor",-1),et=l("td",{width:"1%"},":",-1),tt=l("td",null,"Update On",-1),lt=l("td",{width:"1%"},":",-1),st={class:"d-flex align-end w-100"},at={class:"m-0 mb-1 text-white"},it=l("h4",{class:"m-0 ms-2 text-white"},"Minutes",-1),ot={class:"text-end w-100"},nt={class:"d-flex align-end w-100"},dt={class:"m-0 mb-1 text-white"},rt=l("h4",{class:"m-0 ms-2 text-white"},"Minutes",-1),ct={class:"text-end w-100"},ut={class:"d-flex align-end w-100"},mt={class:"m-0 mb-1 text-white"},_t=l("h4",{class:"m-0 ms-2 text-white"},"Minutes",-1),pt={class:"text-end w-100"},ft={__name:"user-detail",props:{id:String},setup(U){const h=U,r=g([]),o=g([{edit:!1,delete:!1}]),V=async p=>{var d,f,t;ce();try{const i=await P.get("api/v1/timesheet/"+p+"/detail");i&&(r.value=i),ue.close()}catch(i){((d=i.response)==null?void 0:d.status)==400&&(D("error",(t=(f=i.response)==null?void 0:f.data)==null?void 0:t.errors,"bottom-end"),me.push("/admin/timesheet")),console.log(i)}},x=async()=>{var p,d,f;try{const t=await P.delete("api/v1/timesheet/"+h.id+"/delete");console.log(t),t&&(r.value=t,D("success",t.message,"bottom-end"),o.value.delete=!1,me.push("/admin/timesheet"))}catch(t){((p=t.response)==null?void 0:p.status)==400&&D("error",(f=(d=t.response)==null?void 0:d.data)==null?void 0:f.errors,"bottom-end")}},c=p=>{o.value[p]?o.value[p]=!1:o.value[p]=!0,p=="edit"&&V(h.id)},C=async(p,d)=>{var f;ce();try{const t=await P.get("api/v1/timesheet/"+p+"/export",{responseType:"blob"});if(t){const i=window.URL.createObjectURL(new Blob([t],{type:'"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"'})),n=document.createElement("a");n.href=i,n.setAttribute("download",`timesheet_${d}.xlsx`),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(i),ue.close()}}catch(t){D("error",(f=t.response)==null?void 0:f.statusText,"bottom-end"),console.log(t)}};return Z(()=>{V(h.id)}),(p,d)=>{const f=ee("router-link");return M(),I(E,{class:"mb-3"},{default:a(()=>[e(q,{class:"d-flex justify-between align-center"},{default:a(()=>{var t;return[l("div",Pe,[e(f,{to:"/admin/timesheet"},{default:a(()=>[e(y,{icon:"ri-arrow-left-line",color:"secondary",class:"me-2",size:"25"})]),_:1}),v(" Timesheet - "+_((t=s(r).packageDetails)==null?void 0:t.package_type),1)]),l("div",null,[e(De,{"close-on-content-click":!1,location:"bottom"},{activator:a(({props:i})=>[e(L,W({density:"compact",color:"secondary"},i),{default:a(()=>[v(" Action "),e(y,{icon:"ri-arrow-down-s-line ms-2"})]),_:2},1040)]),default:a(()=>[e(Ce,null,{default:a(()=>[e(J,null,{default:a(()=>[l("div",{class:"cursor-pointer",onClick:d[0]||(d[0]=i=>c("edit"))},[e(y,{icon:"ri-pencil-line",class:"me-2"}),v(" Edit TimeSheet ")])]),_:1}),e(J,null,{default:a(()=>[e($e,null,{default:a(()=>[l("div",{class:"cursor-pointer",onClick:d[1]||(d[1]=i=>{var n,u,b,N,A,z;return C(h.id,((u=(n=s(r))==null?void 0:n.packageDetails)==null?void 0:u.package_type)+"-"+((N=(b=s(r))==null?void 0:b.packageDetails)==null?void 0:N.package_name)+"_"+((z=(A=s(r))==null?void 0:A.packageDetails)==null?void 0:z.tutormentor_name))})},[e(y,{icon:"ri-download-line",class:"me-2"}),v(" Download TimeSheet ")])]),_:1})]),_:1}),e(J,null,{default:a(()=>[l("div",{class:"cursor-pointer",onClick:d[2]||(d[2]=i=>c("delete"))},[e(y,{icon:"ri-delete-bin-line",class:"me-2"}),v(" Delete TimeSheet ")])]),_:1})]),_:1})]),_:1})])]}),_:1}),e(S,null,{default:a(()=>[e(le,{align:"center"},{default:a(()=>[e(T,{md:"7"},{default:a(()=>[l("h4",Se,[e(y,{icon:"ri-user-line",size:"17",class:"me-2"}),v(" Basic Profile ")]),Ue,e(X,{density:"compact"},{default:a(()=>{var t,i;return[((t=s(r).clientProfile)==null?void 0:t.length)>1?(M(),j("tbody",Ye,[Ae,(M(!0),j(te,null,pe(s(r).clientProfile,n=>(M(),j("tr",null,[l("td",null,_(n.client_name),1),l("td",null,_(n.client_school),1),l("td",null,_(n.client_grade),1)]))),256))])):((i=s(r).clientProfile)==null?void 0:i.length)==1?(M(),j("tbody",Le,[l("tr",null,[Ne,je,l("td",null,_(s(r).clientProfile[0].client_name),1)]),l("tr",null,[Ee,Be,l("td",null,_(s(r).clientProfile[0].client_school),1)]),l("tr",null,[Ie,ze,l("td",null,_(s(r).clientProfile[0].client_grade),1)]),l("tr",null,[qe,Oe,l("td",null,_(s(r).clientProfile[0].client_mail),1)])])):be("",!0)]}),_:1}),l("h4",Fe,[e(y,{icon:"ri-bookmark-line",class:"me-2",size:"17"}),v(" Package Details ")]),Re,e(X,{density:"compact"},{default:a(()=>{var t,i,n,u,b;return[l("tbody",null,[l("tr",null,[Ge,He,l("td",null,_((t=s(r).packageDetails)==null?void 0:t.program_name),1)]),l("tr",null,[Ke,Je,l("td",null,_(((i=s(r).packageDetails)==null?void 0:i.package_type)+" - "+((n=s(r).packageDetails)==null?void 0:n.package_name)),1)]),l("tr",null,[Qe,We,l("td",null,[l("ol",Xe,[l("li",null,_((u=s(r).packageDetails)==null?void 0:u.pic_name),1)])])]),l("tr",null,[Ze,et,l("td",null,_((b=s(r).packageDetails)==null?void 0:b.tutormentor_name),1)]),l("tr",null,[tt,lt,l("td",null,_(s(F)().format("LLL")),1)])])]}),_:1})]),_:1}),e(T,{md:"5"},{default:a(()=>[e(E,{color:"#16B1FF",class:"mb-2 d-flex align-center"},{default:a(()=>[l("div",null,[e(H,null,{default:a(()=>[e(q,{class:"text-white"},{default:a(()=>[v(" Total Minutes of Package ")]),_:1})]),_:1}),e(S,{class:"d-flex justify-between"},{default:a(()=>{var t;return[l("div",st,[l("h1",at,_((t=s(r).packageDetails)==null?void 0:t.duration_in_minutes),1),it])]}),_:1})]),e(S,null,{default:a(()=>[l("div",ot,[e(y,{icon:"ri-calendar-schedule-line",size:"60"})])]),_:1})]),_:1}),e(E,{color:"#91c45e",class:"mb-2 d-flex align-center"},{default:a(()=>[l("div",null,[e(H,null,{default:a(()=>[e(q,{class:"text-white"},{default:a(()=>[v(" Total Minutes Spent ")]),_:1})]),_:1}),e(S,{class:"d-flex justify-between"},{default:a(()=>{var t;return[l("div",nt,[l("h1",dt,_((t=s(r).packageDetails)==null?void 0:t.time_spent_in_minutes),1),rt])]}),_:1})]),e(S,null,{default:a(()=>[l("div",ct,[e(y,{icon:"ri-timer-flash-line",size:"60",color:"white"})])]),_:1})]),_:1}),e(E,{color:"#e05e5e",class:"mb-2 d-flex align-center"},{default:a(()=>[l("div",null,[e(H,null,{default:a(()=>[e(q,{class:"text-white"},{default:a(()=>[v(" Total Minutes Left ")]),_:1})]),_:1}),e(S,{class:"d-flex justify-between"},{default:a(()=>{var t,i;return[l("div",ut,[l("h1",mt,_(((t=s(r).packageDetails)==null?void 0:t.duration_in_minutes)-((i=s(r).packageDetails)==null?void 0:i.time_spent_in_minutes)),1),_t])]}),_:1})]),e(S,null,{default:a(()=>[l("div",pt,[e(y,{icon:"ri-timer-2-line",size:"60"})])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(O,{modelValue:s(o).edit,"onUpdate:modelValue":d[4]||(d[4]=t=>s(o).edit=t),"max-width":"600",persistent:""},{default:a(()=>{var t;return[e(Me,{item:s(r).editableColumns,package_id:(t=s(r).packageDetails)==null?void 0:t.package_id,id:h.id,onClose:d[3]||(d[3]=i=>c("edit"))},null,8,["item","package_id","id"])]}),_:1},8,["modelValue"]),e(O,{modelValue:s(o).delete,"onUpdate:modelValue":d[6]||(d[6]=t=>s(o).delete=t),"max-width":"400",persistent:""},{default:a(()=>[e(Ve,{title:"timesheet",onDelete:x,onClose:d[5]||(d[5]=t=>c("delete"))})]),_:1},8,["modelValue"])]),_:1})}}},vt={__name:"activity-edit",props:{timesheet_id:Number,activity:String},emits:["close"],setup(U,{emit:h}){const r=g(),o=U,V=h,x=()=>{V("close")},c=g({activity:o==null?void 0:o.activity.activity,description:o==null?void 0:o.activity.description,date:F(o==null?void 0:o.activity.start_date).format("YYYY-MM-DD"),start_time:o==null?void 0:o.activity.start_time,end_time:o==null?void 0:o.activity.end_time,start_date:F(o==null?void 0:o.activity.start_date).format("YYYY-MM-DD")+" "+(o==null?void 0:o.activity.start_time)+":00",end_date:(o==null?void 0:o.activity.end_time)!=0?F(o==null?void 0:o.activity.start_date).format("YYYY-MM-DD")+" "+(o==null?void 0:o.activity.end_time)+":00":null,meeting_link:o==null?void 0:o.activity.meeting_link}),C=async()=>{var d,f;const{valid:p}=await r.value.validate();if(p)try{const t=await P.put("api/v1/timesheet/"+o.timesheet_id+"/activity/"+o.activity.id,c.value);t&&(D("success",t.message,"bottom-end"),x())}catch(t){if((f=(d=t==null?void 0:t.response)==null?void 0:d.data)!=null&&f.errors){const i=t.response.data.errors;let n="Validation errors:";if(typeof i!="string"){for(const u in i)i.hasOwnProperty(u)&&(n+=`
${u}: ${i[u].join(", ")}`);D("error",n,"bottom-end")}else D("error",t.response.data.errors,"bottom-end")}}};return(p,d)=>{const f=ee("DialogCloseBtn");return M(),I(E,{title:"Edit Activity"},{default:a(()=>[e(f,{variant:"text",size:"default",onClick:x}),e(S,null,{default:a(()=>[e(ve,{onSubmit:_e(C,["prevent"]),ref_key:"formData",ref:r,"validate-on":"input"},{default:a(()=>[e(le,null,{default:a(()=>[e(T,{cols:"12"},{default:a(()=>[e(B,{modelValue:s(c).activity,"onUpdate:modelValue":d[0]||(d[0]=t=>s(c).activity=t),label:"Activity Name",rules:s(Y).required,placeholder:"Activity"},null,8,["modelValue","rules"])]),_:1}),e(T,{cols:"12"},{default:a(()=>[e(he,{modelValue:s(c).description,"onUpdate:modelValue":d[1]||(d[1]=t=>s(c).description=t),label:"Description",rules:s(Y).required,placeholder:"Description"},null,8,["modelValue","rules"])]),_:1}),e(T,{md:"6",cols:"12"},{default:a(()=>[e(B,{type:"date",modelValue:s(c).date,"onUpdate:modelValue":d[2]||(d[2]=t=>s(c).date=t),label:"Date",rules:s(Y).required,placeholder:"Date"},null,8,["modelValue","rules"])]),_:1}),e(T,{md:"3",cols:"6"},{default:a(()=>[e(B,{type:"time",modelValue:s(c).start_time,"onUpdate:modelValue":d[3]||(d[3]=t=>s(c).start_time=t),label:"Start Time",rules:s(Y).required,placeholder:"Start Time",onChange:d[4]||(d[4]=t=>s(c).start_date=s(c).date+" "+s(c).start_time+":00")},null,8,["modelValue","rules"])]),_:1}),e(T,{md:"3",cols:"6"},{default:a(()=>[e(B,{type:"time",modelValue:s(c).end_time,"onUpdate:modelValue":d[5]||(d[5]=t=>s(c).end_time=t),label:"End Time",placeholder:"End Time",onChange:d[6]||(d[6]=t=>s(c).end_date=s(c).date+" "+s(c).end_time+":00")},null,8,["modelValue"])]),_:1}),e(T,{md:"12",cols:"12"},{default:a(()=>[e(B,{type:"text",modelValue:s(c).meeting_link,"onUpdate:modelValue":d[7]||(d[7]=t=>s(c).meeting_link=t),label:"Meeting Link",placeholder:"Meeting Link",rules:s(Y).url},null,8,["modelValue","rules"])]),_:1})]),_:1}),e(ge,{class:"my-3"}),e(fe,null,{default:a(()=>[e(L,{color:"error",onClick:x},{default:a(()=>[e(y,{icon:"ri-close-line",class:"me-3"}),v(" Close ")]),_:1}),e(ye),e(L,{color:"success",type:"submit"},{default:a(()=>[v(" Save "),e(y,{icon:"ri-save-line",class:"ms-3"})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})}}},ht={class:"d-flex justify-between align-center"},gt=l("div",{class:"w-100"},[l("h4",null,"Activity")],-1),yt=l("thead",null,[l("tr",null,[l("th",{class:"text-uppercase",width:"1%"}," No "),l("th",{class:"text-uppercase text-center"},"Activity"),l("th",{class:"text-uppercase text-center"},"Description"),l("th",{class:"text-uppercase text-center"},"Date"),l("th",{class:"text-uppercase text-center"},"Start Time"),l("th",{class:"text-uppercase text-center"},"End Time"),l("th",{class:"text-uppercase text-center"},"Time Spent"),l("th",{class:"text-uppercase text-center"},"Status"),l("th",{class:"text-uppercase text-end"},"#")])],-1),Vt={width:"1%"},bt={class:"text-center"},kt={class:"text-center"},wt={class:"text-center"},xt={class:"text-center"},Dt={nowrap:""},Ct={class:"text-end"},$t={__name:"timesheet-detail",props:{id:String},setup(U){const h=U,r=g([]),o=g(!1),V=g([{add:!1,edit:!1,delete:!1}]),x=g([]),c=async()=>{o.value=!1;try{const t=await P.get("api/v1/timesheet/"+h.id+"/activities");t&&(r.value=t)}catch(t){console.error(t)}finally{o.value=!0}},C=t=>{V.value[t]?V.value[t]=!1:V.value[t]=!0,c()},p=(t,i)=>{x.value=i,C(t)},d=async()=>{var t,i,n;try{const u=await P.delete("api/v1/timesheet/"+h.id+"/activity/"+x.value.id);u&&(D("success",u.message,"bottom-end"),C("delete"))}catch(u){((t=u.response)==null?void 0:t.status)==400&&D("error",(n=(i=u.response)==null?void 0:i.data)==null?void 0:n.errors,"bottom-end")}},f=async t=>{var i,n;try{const u=await P.put("api/v1/timesheet/"+h.id+"/activity/"+t.id,t);u&&(D("success",u.message,"bottom-end"),c())}catch(u){if((n=(i=u==null?void 0:u.response)==null?void 0:i.data)!=null&&n.errors){const b=u.response.data.errors;let N="Validation errors:";if(typeof b!="string"){for(const A in b)b.hasOwnProperty(A)&&(N+=`
${A}: ${b[A].join(", ")}`);D("error",N,"bottom-end")}else D("error",u.response.data.errors,"bottom-end")}}};return Z(()=>{c()}),(t,i)=>(M(),I(E,null,{default:a(()=>[e(q,null,{default:a(()=>[l("div",ht,[gt,e(L,{density:"compact",onClick:i[0]||(i[0]=n=>C("add"))},{default:a(()=>[e(y,{icon:"ri-add-line"}),e(Q,{activator:"parent",location:"bottom",transition:"scroll-x-transition"},{default:a(()=>[v(" New Activity ")]),_:1})]),_:1}),e(O,{modelValue:s(V).add,"onUpdate:modelValue":i[2]||(i[2]=n=>s(V).add=n),"max-width":"600",persistent:""},{default:a(()=>[e(xe,{id:h.id,onClose:i[1]||(i[1]=n=>C("add"))},null,8,["id"])]),_:1},8,["modelValue"])])]),_:1}),e(S,null,{default:a(()=>[e(X,{class:"text-no-wrap",height:"400","fixed-header":""},{default:a(()=>[yt,l("tbody",null,[(M(!0),j(te,null,pe(s(r),(n,u)=>(M(),j("tr",{key:u},[l("td",Vt,_(u+1),1),l("td",null,_(n.activity),1),l("td",bt,_(n.description),1),l("td",null,_(t.$moment(n.start_date).format("MMM Do YYYY")),1),l("td",kt,_(n.start_time),1),l("td",wt,_(n.end_time),1),l("td",xt,[e(y,{icon:"ri-timer-2-line",class:"cursor-pointer me-3"}),v(" "+_(n.estimate)+" Minutes ",1)]),l("td",Dt,[e(Te,{color:"success",modelValue:n.status,"onUpdate:modelValue":[b=>n.status=b,b=>f(n)],value:1,"false-value":0},{label:a(()=>[e(we,{color:n.status?"#91C45E":"#e05e5e",class:"font-weight-medium",size:"small"},{default:a(()=>[v(_(n.status?"Completed":"Not Yet"),1)]),_:2},1032,["color"])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),l("td",Ct,[e(L,{color:"warning",density:"compact",class:"me-1",onClick:b=>p("edit",n)},{default:a(()=>[e(y,W({icon:"ri-edit-line",class:"cursor-pointer",ref_for:!0},t.activatorProps),null,16),e(Q,{activator:"parent",location:"left",transition:"scroll-x-transition"},{default:a(()=>[v(" Edit Activity ")]),_:1})]),_:2},1032,["onClick"]),e(L,{color:"error",density:"compact",onClick:b=>p("delete",n)},{default:a(()=>[e(y,W({icon:"ri-delete-bin-line",class:"cursor-pointer",ref_for:!0},t.activatorProps),null,16),e(Q,{activator:"parent",location:"right",transition:"scroll-x-transition"},{default:a(()=>[v(" Delete Activity ")]),_:1})]),_:2},1032,["onClick"])])]))),128))])]),_:1})]),_:1}),e(O,{modelValue:s(V).edit,"onUpdate:modelValue":i[4]||(i[4]=n=>s(V).edit=n),"max-width":"600",persistent:""},{default:a(()=>[e(vt,{timesheet_id:h==null?void 0:h.id,activity:s(x),onClose:i[3]||(i[3]=n=>C("edit"))},null,8,["timesheet_id","activity"])]),_:1},8,["modelValue"]),e(O,{modelValue:s(V).delete,"onUpdate:modelValue":i[6]||(i[6]=n=>s(V).delete=n),"max-width":"400",persistent:""},{default:a(()=>[e(Ve,{title:"activity",onClose:i[5]||(i[5]=n=>C("delete")),onDelete:d})]),_:1},8,["modelValue"])]),_:1}))}},Zt={__name:"timesheet-detail",props:{id:Number},setup(U){const r=U.id;return(o,V)=>(M(),j(te,null,[e(ft,{id:s(r)},null,8,["id"]),e($t,{id:s(r)},null,8,["id"])],64))}};export{Zt as default};
